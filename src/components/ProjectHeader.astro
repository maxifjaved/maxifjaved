---
interface Props {
  title: string;
  description: string;
  category: string;
  startDate: string;
  endDate?: string;
  duration: string;
  featuredImage: string;
  status: string;
}

const { title, description, category, startDate, endDate, duration, featuredImage, status } = Astro.props;

const categoryDisplay = {
  'edtech': 'EdTech',
  'interactive-displays': 'Interactive Displays',
  'business-intelligence': 'Business Intelligence',
  'cybersecurity': 'Cybersecurity',
  'insurance-tech': 'Insurance Tech',
  'full-stack': 'Full-Stack'
}[category] || category;

// Format dates
const formatDate = (dateStr: string) => {
  const [year, month] = dateStr.split('-');
  const date = new Date(parseInt(year), parseInt(month) - 1);
  return date.toLocaleDateString('en-US', { year: 'numeric', month: 'long' });
};

// Split title for styling if it contains certain patterns
const titleParts = title.includes(' - ') ? title.split(' - ') : [title];
---

<section
  id="project-header"
  class="relative overflow-hidden pt-12 md:pt-16 mb-6"
>
  <div class="relative mx-auto max-w-4xl px-6 pt-24">
    <!-- Back to Projects -->
    <div class="mb-8">
      <a 
        href="/projects" 
        class="inline-flex items-center gap-2 text-cyber-blue hover:text-white transition-colors"
      >
        <i class="fas fa-arrow-left"></i>
        Back to Projects
      </a>
    </div>

    <div class="mx-auto max-w-4xl text-center">
      <!-- Category tag -->
      <div class="mb-4 flex justify-center">
        <span
          class="rounded-md bg-cyber-blue/10 px-3 py-1 text-sm text-cyber-blue border border-cyber-blue/30"
        >
          {categoryDisplay}
        </span>
      </div>

      <!-- Title -->
      <h1 class="mb-4 text-4xl font-bold text-white lg:text-5xl">
        {titleParts[0]}
        {titleParts[1] && (
          <>
            - <span class="text-cyber-blue text-shadow-glow">{titleParts[1]}</span>
          </>
        )}
      </h1>

      <!-- Description -->
      <p class="mb-8 text-xl text-gray-300 max-w-3xl mx-auto">
        {description}
      </p>

      <!-- Metadata -->
      <div
        class="mb-8 flex flex-wrap items-center justify-center gap-4 text-sm text-gray-400"
      >
        <span>
          <i class="fas fa-calendar-alt mr-2"></i>
          {formatDate(startDate)}{endDate && ` - ${formatDate(endDate)}`}
        </span>
        <span>
          <i class="fas fa-clock mr-2"></i>
          {duration}
        </span>
        <span>
          <i class="fas fa-check-circle mr-2"></i>
          <span class="capitalize">{status}</span>
        </span>
      </div>

      <!-- Featured image -->
      <div
        class="h-96 overflow-hidden rounded-xl border border-cyber-blue/20 glow"
      >
        <img
          src={featuredImage}
          alt={title}
          class="h-full w-full object-cover"
        />
      </div>
    </div>
  </div>
</section>