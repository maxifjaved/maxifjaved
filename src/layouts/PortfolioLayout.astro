---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';

interface Props {
	title?: string;
	description?: string;
	type?: 'website' | 'article' | 'profile';
	keywords?: string[];
}

const { 
	title = SITE_TITLE, 
	description = SITE_DESCRIPTION,
	type = 'website',
	keywords = []
} = Astro.props;
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead 
			title={title} 
			description={description} 
			type={type}
			keywords={keywords}
		/>
		
		<!-- Google tag (gtag.js) --> 
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-VC7TMWR4LZ"></script> 
		<script> 
			window.dataLayer = window.dataLayer || []; 
			function gtag(){dataLayer.push(arguments);} 
			gtag('js', new Date()); 
			gtag('config', 'G-VC7TMWR4LZ'); 
		</script>
		
		<style>
			/* Enhanced CSS with modern design principles */
			:root {
				--color-primary: #007bff;
				--color-secondary: #6c757d;
				--color-success: #28a745;
				--color-info: #17a2b8;
				--color-warning: #ffc107;
				--color-danger: #dc3545;
				--color-light: #f8f9fa;
				--color-dark: #343a40;
				--color-white: #ffffff;
				--color-text: #333333;
				--color-text-light: #6c757d;
				--color-background: #ffffff;
				--color-background-alt: #f8f9fa;
				--border-radius: 8px;
				--box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
				--transition: all 0.3s ease;
				--font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
				--font-family-mono: 'Fira Code', 'Consolas', 'Monaco', monospace;
				--max-width: 1200px;
			}

			* {
				box-sizing: border-box;
				margin: 0;
				padding: 0;
			}

			html {
				scroll-behavior: smooth;
				font-family: var(--font-family);
			}

			body {
				font-family: var(--font-family);
				line-height: 1.6;
				color: var(--color-text);
				background-color: var(--color-background);
				overflow-x: hidden;
			}

			/* Skip to content for accessibility */
			.visually-hidden-focusable {
				position: absolute;
				left: -9999px;
				top: auto;
				width: 1px;
				height: 1px;
				overflow: hidden;
			}
			
			.visually-hidden-focusable:focus {
				position: static;
				width: auto;
				height: auto;
				margin: 1em;
				background: var(--color-primary);
				color: var(--color-white);
				padding: 0.5em;
				z-index: 1000;
				border-radius: var(--border-radius);
			}

			/* Container and layout */
			.container {
				max-width: var(--max-width);
				margin: 0 auto;
				padding: 0 1rem;
			}

			.section {
				margin-bottom: 3rem;
			}

			/* Typography */
			h1, h2, h3, h4, h5, h6 {
				margin: 0.5em 0;
				color: var(--color-text);
				font-weight: 600;
				line-height: 1.2;
			}

			h1 {
				font-size: clamp(2rem, 5vw, 3rem);
			}

			h2 {
				font-size: clamp(1.5rem, 4vw, 2.5rem);
			}

			h3 {
				font-size: clamp(1.2rem, 3vw, 2rem);
			}

			p {
				margin: 1em 0;
				line-height: 1.7;
			}

			/* Links */
			a {
				color: var(--color-primary);
				text-decoration: none;
				transition: var(--transition);
			}

			a:hover, a:focus {
				text-decoration: underline;
				outline: 2px solid var(--color-primary);
				outline-offset: 2px;
			}

			/* Lists */
			ul, ol {
				padding-left: 1.5rem;
				margin: 1em 0;
			}

			li {
				margin: 0.5em 0;
			}

			/* Navigation */
			nav ul {
				list-style: none;
				padding: 0;
				display: flex;
				justify-content: center;
				gap: 1rem;
				margin: 1rem 0;
				flex-wrap: wrap;
			}

			/* Grid layouts */
			.two-column {
				display: grid;
				grid-template-columns: 1fr 1fr;
				gap: 2rem;
				margin: 2rem 0;
			}

			.tech-grid {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
				gap: 1.5rem;
				margin: 2rem 0;
			}

			/* Cards and boxes */
			.card {
				background: var(--color-white);
				border-radius: var(--border-radius);
				box-shadow: var(--box-shadow);
				padding: 2rem;
				transition: var(--transition);
			}

			.card:hover {
				transform: translateY(-2px);
				box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
			}

			.highlight-box {
				padding: 2rem;
				border-radius: var(--border-radius);
				border-left: 4px solid;
				margin: 2rem 0;
				transition: var(--transition);
			}

			.highlight-box.success {
				background-color: #e8f5e8;
				border-color: var(--color-success);
			}

			.highlight-box.info {
				background-color: #e3f2fd;
				border-color: var(--color-info);
			}

			.highlight-box.warning {
				background-color: #fff3cd;
				border-color: var(--color-warning);
			}

			.cta-box {
				background: linear-gradient(135deg, var(--color-light) 0%, var(--color-white) 100%);
				border: 2px solid var(--color-primary);
				border-radius: calc(var(--border-radius) * 2);
				padding: 3rem;
				text-align: center;
				margin: 3rem auto;
				position: relative;
				overflow: hidden;
			}

			.cta-box::before {
				content: '';
				position: absolute;
				top: -50%;
				left: -50%;
				width: 200%;
				height: 200%;
				background: linear-gradient(45deg, transparent, rgba(0, 123, 255, 0.1), transparent);
				transform: rotate(45deg);
				animation: shimmer 3s ease-in-out infinite;
			}

			@keyframes shimmer {
				0%, 100% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
				50% { transform: translateX(100%) translateY(100%) rotate(45deg); }
			}

			/* Buttons */
			.btn {
				display: inline-block;
				padding: 0.75rem 1.5rem;
				border-radius: var(--border-radius);
				font-weight: 600;
				text-decoration: none;
				text-align: center;
				cursor: pointer;
				border: 2px solid transparent;
				transition: var(--transition);
				position: relative;
				z-index: 1;
				margin: 0.5rem;
			}

			.btn:hover, .btn:focus {
				text-decoration: none;
				transform: translateY(-2px);
				box-shadow: var(--box-shadow);
			}

			.btn-primary {
				background-color: var(--color-primary);
				color: var(--color-white);
			}

			.btn-primary:hover {
				background-color: #0056b3;
			}

			.btn-linkedin {
				background-color: #0077B5;
				color: var(--color-white);
			}

			.btn-linkedin:hover {
				background-color: #005885;
			}

			.btn-outline {
				background-color: transparent;
				color: var(--color-primary);
				border-color: var(--color-primary);
			}

			.btn-outline:hover {
				background-color: var(--color-primary);
				color: var(--color-white);
			}

			/* Header styles */
			header {
				text-align: center;
				padding: 4rem 0;
				background: linear-gradient(135deg, var(--color-light) 0%, var(--color-white) 100%);
				position: relative;
				overflow: hidden;
			}

			.profile-img {
				border-radius: 50%;
				display: block;
				margin: 0 auto 2rem auto;
				border: 4px solid var(--color-white);
				box-shadow: var(--box-shadow);
				transition: var(--transition);
			}

			.profile-img:hover {
				transform: scale(1.05);
			}

			.subtitle {
				font-weight: 400;
				color: var(--color-text-light);
				font-size: 1.2rem;
			}

			/* Quote styles */
			blockquote {
				border-left: 4px solid var(--color-primary);
				background: var(--color-light);
				padding: 2rem;
				margin: 2rem 0;
				font-style: italic;
				border-radius: var(--border-radius);
				position: relative;
			}

			blockquote::before {
				content: '"';
				font-size: 4rem;
				color: var(--color-primary);
				position: absolute;
				top: -1rem;
				left: 1rem;
				opacity: 0.3;
			}

			.quote-success {
				border-left-color: var(--color-success);
			}

			/* Footer */
			footer {
				background: var(--color-dark);
				color: var(--color-white);
				text-align: center;
				padding: 3rem 1rem;
				margin-top: 4rem;
			}

			.footer-note {
				opacity: 0.8;
				margin-top: 1rem;
			}

			/* Responsive design */
			@media (max-width: 768px) {
				.two-column, .tech-grid {
					grid-template-columns: 1fr;
					gap: 1rem;
				}

				nav ul {
					flex-direction: column;
					gap: 0.5rem;
				}

				.container {
					padding: 0 1rem;
				}

				header {
					padding: 2rem 0;
				}

				.cta-box {
					padding: 2rem;
					margin: 2rem auto;
				}

				.btn {
					width: 100%;
					margin: 0.5rem 0;
				}
			}

			/* Performance optimizations */
			img {
				max-width: 100%;
				height: auto;
				loading: lazy;
			}

			/* Focus styles for better accessibility */
			*:focus {
				outline: 2px solid var(--color-primary);
				outline-offset: 2px;
			}

			/* Smooth scrolling for internal links */
			html {
				scroll-behavior: smooth;
			}

			/* Reduced motion support */
			@media (prefers-reduced-motion: reduce) {
				* {
					animation-duration: 0.01ms !important;
					animation-iteration-count: 1 !important;
					transition-duration: 0.01ms !important;
				}
				
				html {
					scroll-behavior: auto;
				}
			}
		</style>
	</head>
	<body>
		<a href="#main" class="visually-hidden-focusable">Skip to main content</a>
		<Header />
		<main id="main">
			<slot />
		</main>
		<Footer />
		
		<!-- Set current year dynamically -->
		<script>
			document.addEventListener('DOMContentLoaded', function() {
				const yearElement = document.getElementById('current-year');
				if (yearElement) {
					yearElement.textContent = new Date().getFullYear().toString();
				}
			});
		</script>
	</body>
</html>